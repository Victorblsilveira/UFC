<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8">
        <script src="js/jquery-3.2.1.js"></script>
        <script type="text/javascript" src="js/matrix.js"></script>
        <script type="text/javascript" src="js/math.js"></script>
        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
        <script type="text/javascript" src="js/vec_operations.js"></script>
        <script type="text/javascript" src="js/operations.js"></script>
        <script type="text/javascript" src="js/index.js"></script>
        <link rel="stylesheet" href="css/index.css">
        <title>PDI</title>
    </head>

    <body>

      <section class="container">

      	<div id="menu">
      		<label class="head-wrapper" id="image-picker-label" class="head" for="image-picker">
      			<img id="img-icon" src="img_icon.png"/>
      			Escolher Imagem
      		</label>
        	<input id="image-picker" onchange="handleImage(event)" type="file" />

        	<HR color="grey" style="padding-top: 1px; padding-bottom: 1px; margin-top: 24px;"></HR>

	        <div class="filter-options">

	        	<div class="head-wrapper" onclick="onFilterBlockClick('filters-simple')">
	            <label class="head" >Filtros Simples</label>
	            <b class="caret"></b>
	          </div>
            <div id="filters-simple" class="filter-block">

              <button class="filter" onclick="applyFilter(event, this, grayscale,this)">Grayscale</button>

              <button class="filter" onclick="applyFilter(event, this, negative)">Negative</button>

              <div class="">
                <button class="filter" onclick="applyFilter(event, this, potenc)">Potency (lambda=<span id='range_potenc'>1.00</span>)</button>
                <div class="limit -min">0.1</div>
                <input class="slidebar" type="range"  min="1" max="38" onmousemove="updateLambda(event)"/>
                <div class="limit -max">10</div>
              </div>

              <div class="">
                <button class="filter" onclick="applyFilter(event, this, log)">Log (C=<span id='range_log'>11</span>)</button>
                <div class="limit -min">1</div>
                <input class="slidebar" type="range"  min="1" max="20" onmousemove="updateConstant(event)"/>
                <div class="limit -max">20</div>
              </div>


              <button class="filter" onclick="applyFilter(event, this, inverse_log)">Inverse Log</button>

              <div class="">
                <button class="filter" onclick="applyFilter(event, this, limiar)">Limiar : <span id='range_limiar'>0.5</span>
                </button>
                <div class="limit -min">0</div>
                <input class="slidebar" type="range"  min="0" max="1000" onmousemove="updateTresholdLimiar(event)"/>
                <div class="limit -max">1</div>
              </div>

              <div class="">
                <button class="filter" onclick="applyFilter(event, this, limiar_apar)">Limiar por Partes</button>
                <div class="point">
                  <div class="x">
                      X1 : <input class="pointer x" type="number" onchange="updateVariables(event,0)" name="quantity" min="0" max="255" value="0">
                  </div>
                  <div class="y">
                      Y1 : <input class="pointer x" type="number" onchange="updateVariables(event,1)" name="quantity" min="0" max="255"
                      value="0">
                  </div>
                </div>
                <div class="point">
                  <div class="x">
                      X2 : <input class="pointer x" type="number" onchange="updateVariables(event,2)" name="quantity" min="0" max="255"
                      value="255">
                  </div>
                  <div class="y">
                      Y2 : <input class="pointer x" type="number"  onchange="updateVariables(event,3)" name="quantity" min="0" max="255"
                      value="255">
                  </div>
                </div>
              </div>

              <div class="">
                <button class="filter" onclick="applyFilter(event, this, bit_slice)">Bit Slice : <span id='range_bitslice'>4</span>
                </button>
                <div class="limit -min">0</div>
                <input class="slidebar" type="range" min="0" max="7" onchange="updateTresholdBitSlice(event)"/>
                <div class="limit -max">7</div>
              </div>

            </div>

            <div class="head-wrapper" onclick="onFilterBlockClick('filters-convolution')">
	            <label class="head" >Filtros Espaciais</label>
	            <b class="caret"></b>
	          </div>
            <div id="filters-convolution" class="filter-block">

              <div class="">
                <h5 class="clear">Dimensão</h5>
                <input class="mat" type="number" onchange="updateDimension(event)" step="2" min="3" max="9" value="3" >
                <button class="confirm" type="button" name="button" onclick="createMatrix()">Create</button>
              </div>
              <div id="matriz" class=""></div>
              <button class="filter" onclick="applyFilter(event, this, convolution)">Convolution</button>
              <button class="filter" onclick="applyFilter(event, this, meanFilter)">Mean</button>
              <button class="filter" onclick="applyFilter(event, this, sobelx)">Sobel-x</button>
              <button class="filter" onclick="applyFilter(event, this, sobely)">Sobel-y</button>
              <button class="filter" onclick="applyFilter(event, this, sobelSum)">SobelSum</button>
              <button class="filter" onclick="applyFilter(event, this, highBoosting)">HighBoosting</button>

            </div>

            <div class="head-wrapper" onclick="onFilterBlockClick('filters-frequency')">
	            <label class="head" >Filtros na Frequência</label>
	            <b class="caret"></b>
	          </div>

            <div id="filters-frequency" class="filter-block">

              <button class="filter" onclick="applyFilter(event, this, highPass)">Passa Alta</button>
              <button class="filter" onclick="applyFilter(event, this, lowPass)">Passa Baixa</button>
              <button class="filter" onclick="applyFilter(event, this, bandReject)">Rejeita Faixa</button>
              <button class="filter" onclick="applyFilter(event, this, lowPass); applyFilter(event, this, highPass)">Passa Faixa</button>

            </div>

            <div class="head-wrapper" onclick="onFilterBlockClick('filters-improver')">
	            <label class="head" >Melhoramento de Imagens</label>
	            <b class="caret"></b>
	          </div>
            <div id="filters-improver" class="filter-block">

              <button class="filter" onclick="applyFilter(event, this, normalizeHistogram)">Equalizar</button>
              <button class="filter" onclick="localNormalizer()">Local Normalizer</button>
              <button class="filter" onclick="applyFilter(event, this, median)">Median</button>
              <button class="filter" onclick="applyFilter(event, this, geometric)">Geometric Mean</button>
              <button class="filter" onclick="applyFilter(event, this, harmonic)">Harmonic Mean</button>

              <div class="limit -min">-10</div>
                <input class="slidebar" type="range"  min="-10" max="10" value="0" onmousemove="updateCounterHarmonicFactor(event)"/>
              <div class="limit -max">10</div>
              <button class="filter" onclick="applyFilter(event, this, counterHarmonic)">Counter Harmonic: (Q=<span id='range_harmonic'>0</span>)</button>

              <button class="filter" onclick="applyFilter(event, this, maxFilter)">Max Filter</button>
              <button class="filter" onclick="applyFilter(event, this, minFilter)">Min Filter</button>

            </div>

            <div class="head-wrapper" onclick="onFilterBlockClick('filters-other')">
	            <label class="head" >Outras Opções</label>
	            <b class="caret"></b>
	          </div>
            <div id="filters-other" class="filter-block">

              <div class="">
                <h5 class="clear">Factor of Reduction</h5>
                <input class="mat" type="number" onchange="updateReductionFactor(event)" step="1" min="1" value="2" >
              </div>
              <button class="filter" onclick="imageReduction()">Reduce Image</button>
              <button class="filter" onclick="imageReduction(true)">Reduce With Mean</button>
              <button class="filter" onclick="imageZoom()">Zoom</button>

            </div>

	      	</div>

	    	</div>

        <div class="content">

        	<div class="histo_options hide">
            <p>Tipos Histogramas</p>
            <div class="histo_option">Red   <input type="checkbox" onclick=""></div>
            <div class="histo_option">Green <input type="checkbox" onclick=""></div>
            <div class="histo_option">Blue  <input type="checkbox" onclick=""></div>
            <div class="histo_option">Gray  <input type="checkbox" onclick=""></div>
          </div>

          <div class="graphics-container">
            <div class="image-panel">
              <div class="image-container">
                <img id='origin' class="image" src="">
              </div>
              <div id="histo_1" class="hist_son hide"></div>
            </div>
            <HR id="h-line" color="red" class="hide" style="margin-top: 12px; margin-bottom: 12px;"></HR>
            <div class="image-panel">
              <div class="image-container">
                <canvas id='canvas' class="image"></canvas>
              </div>
              <div id="histo_2" class="hist_son hide"></div>
            </div>
          </div>

          <div id="reset-wrapper">
          	<button id="reset-button" class="filter" onclick="reset()">Reset</button>
        	</div>

        </div>

      </section>

    </body>
</html>
